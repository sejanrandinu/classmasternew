import{Q as y}from"./QImg-CAyF39bi.js";import{u as w,r,j as h,k as _,m as k,n as a,q as o,p as s,s as V,t as n,W as d,Q,v as f}from"./index-BCQP80hx.js";import{Q as P}from"./QForm-DzNt1E0B.js";import{Q as q}from"./QPage-DZO8eRE2.js";import{_ as z}from"./hero_education_dark_1767203133564-gb_q417w.js";import{u as A}from"./use-quasar-C6NPZew5.js";import{s as C}from"./supabase-3Ri18K4t.js";import{_ as I}from"./_plugin-vue_export-helper-DlAUqK2U.js";const R={class:"absolute-full"},U={class:"container-sm relative-position z-top q-pa-md",style:{width:"100%","max-width":"480px"}},B={class:"glass-card q-pa-xl rounded-borders"},N={class:"text-center q-mb-xl"},S={class:"text-center q-mt-xl text-grey-5"},W={__name:"RegisterPage",setup(E){const v=w(),c=A(),u=r(""),i=r(""),g=r(""),p=r(""),m=r(!1),x=async()=>{m.value=!0;try{const{error:l}=await C.auth.signUp({email:u.value,password:i.value,options:{data:{whatsapp:p.value}}});if(l)throw l;c.notify({type:"positive",message:"Registration successful! Your account is pending admin approval.",position:"top",timeout:5e3}),v.push("/login")}catch(l){c.notify({type:"negative",message:l.message||"Error registering",position:"top"})}finally{m.value=!1}};return(l,t)=>{const b=h("router-link");return k(),_(q,{class:"bg-black text-white flex flex-center relative-position overflow-hidden"},{default:a(()=>[o("div",R,[s(y,{src:z,class:"fit",style:{opacity:"0.15",filter:"grayscale(100%) brightness(0.7)"}}),t[4]||(t[4]=o("div",{class:"absolute-full",style:{background:"radial-gradient(circle at center, transparent 0%, #000 95%)"}},null,-1))]),o("div",U,[o("div",B,[o("div",N,[s(V,{size:"64px",class:"q-mb-md"},{default:a(()=>[s(n,{name:"app_registration",size:"40px",color:"white"})]),_:1}),t[5]||(t[5]=o("h2",{class:"text-h3 text-weight-bold q-mb-sm letter-spacing-tight"},"Create Account",-1)),t[6]||(t[6]=o("p",{class:"text-grey-5 text-center"},"Join ClassMaster. Your account will be active once approved by admin.",-1))]),s(P,{onSubmit:x,class:"q-gutter-y-lg"},{default:a(()=>[s(d,{modelValue:u.value,"onUpdate:modelValue":t[0]||(t[0]=e=>u.value=e),label:"Email Address",dark:"",outlined:"",dense:"",class:"custom-input",rules:[e=>e&&e.length>0||"Please type your email"]},{prepend:a(()=>[s(n,{name:"email",color:"grey-7",size:"20px"})]),_:1},8,["modelValue","rules"]),s(d,{modelValue:i.value,"onUpdate:modelValue":t[1]||(t[1]=e=>i.value=e),label:"Password",type:"password",dark:"",outlined:"",dense:"",class:"custom-input",rules:[e=>e&&e.length>0||"Please type your password",e=>e.length>=6||"Password must be at least 6 characters"]},{prepend:a(()=>[s(n,{name:"lock",color:"grey-7",size:"20px"})]),_:1},8,["modelValue","rules"]),s(d,{modelValue:g.value,"onUpdate:modelValue":t[2]||(t[2]=e=>g.value=e),label:"Confirm Password",type:"password",dark:"",outlined:"",dense:"",class:"custom-input",rules:[e=>e&&e===i.value||"Passwords do not match"]},{prepend:a(()=>[s(n,{name:"lock_clock",color:"grey-7",size:"20px"})]),_:1},8,["modelValue","rules"]),s(d,{modelValue:p.value,"onUpdate:modelValue":t[3]||(t[3]=e=>p.value=e),label:"WhatsApp Number",dark:"",outlined:"",dense:"",placeholder:"e.g. 0771234567",class:"custom-input",rules:[e=>e&&e.length>=9||"Please enter a valid WhatsApp number"]},{prepend:a(()=>[s(n,{name:"phone",color:"grey-7",size:"20px"})]),_:1},8,["modelValue","rules"]),s(Q,{type:"submit",label:"Register",color:"white","text-color":"black",rounded:"",unelevated:"","no-caps":"",size:"lg",class:"full-width text-weight-bold hover-glow",loading:m.value},null,8,["loading"])]),_:1}),o("div",S,[t[8]||(t[8]=f(" Already have an account? ",-1)),s(b,{to:"/login",class:"text-white text-weight-bold",style:{"text-decoration":"none"}},{default:a(()=>[...t[7]||(t[7]=[f("Sign In",-1)])]),_:1})])])])]),_:1})}}},G=I(W,[["__scopeId","data-v-2714bc82"]]);export{G as default};
