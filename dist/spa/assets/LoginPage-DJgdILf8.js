import{Q as b}from"./QImg-CAyF39bi.js";import{u as h,r as n,j as w,k as _,m as g,n as l,q as o,p as t,x as k,V as q,s as Q,t as i,v as m,U as V,W as x,Q as I}from"./index-BCQP80hx.js";import{Q as P}from"./QForm-DzNt1E0B.js";import{Q as z}from"./QPage-DZO8eRE2.js";import{_ as B}from"./hero_education_dark_1767203133564-gb_q417w.js";import{u as S}from"./use-quasar-C6NPZew5.js";import{s as N}from"./supabase-3Ri18K4t.js";import{_ as C}from"./_plugin-vue_export-helper-DlAUqK2U.js";const E={class:"absolute-full"},L={class:"container-sm relative-position z-top q-pa-md",style:{width:"100%","max-width":"480px"}},U={class:"glass-card q-pa-xl rounded-borders shadow-24"},W={class:"text-center q-mb-xl"},A={key:0,class:"bg-red-9 text-white q-pa-sm rounded-borders text-center q-mb-lg flex flex-center border-red"},D={class:"q-mt-xl"},R={class:"text-center q-mt-xl text-grey-5"},j={__name:"LoginPage",setup(F){const f=h(),p=S(),d=n(""),u=n(""),c=n(!1),r=n(""),v=async()=>{c.value=!0,r.value="";try{const{error:a}=await N.auth.signInWithPassword({email:d.value,password:u.value});if(a)throw a;p.notify({type:"positive",message:"Successfully logged in!",position:"top"}),f.push("/dashboard")}catch(a){console.error("Login error:",a);let e=a.message||"Error logging in";e.includes("Invalid login credentials")&&(e="Incorrect password or email. Please try again."),r.value=e,p.notify({type:"negative",message:e,position:"top"})}finally{c.value=!1}};return(a,e)=>{const y=w("router-link");return g(),_(z,{class:"bg-black text-white flex flex-center relative-position overflow-hidden"},{default:l(()=>[o("div",E,[t(b,{src:B,class:"fit",style:{opacity:"0.15",filter:"grayscale(100%) brightness(0.7)"}}),e[2]||(e[2]=o("div",{class:"absolute-full",style:{background:"radial-gradient(circle at center, transparent 0%, #000 95%)"}},null,-1))]),o("div",L,[o("div",U,[o("div",W,[t(Q,{size:"64px",class:"q-mb-md"},{default:l(()=>[t(i,{name:"school",size:"40px",color:"white"})]),_:1}),e[3]||(e[3]=o("h2",{class:"text-h3 text-weight-bold q-mb-sm letter-spacing-tight"},"Welcome Back",-1)),e[4]||(e[4]=o("p",{class:"text-grey-5"},"Sign in to manage your institute",-1))]),r.value?(g(),k("div",A,[t(i,{name:"error",class:"q-mr-sm"}),m(" "+V(r.value),1)])):q("",!0),t(P,{onSubmit:v,class:"q-gutter-y-lg"},{default:l(()=>[t(x,{modelValue:d.value,"onUpdate:modelValue":e[0]||(e[0]=s=>d.value=s),label:"Email Address",dark:"",outlined:"",dense:"",class:"custom-input",rules:[s=>s&&s.length>0||"Please type your email"]},{prepend:l(()=>[t(i,{name:"email",color:"grey-7",size:"20px"})]),_:1},8,["modelValue","rules"]),t(x,{modelValue:u.value,"onUpdate:modelValue":e[1]||(e[1]=s=>u.value=s),label:"Password",type:"password",dark:"",outlined:"",dense:"",class:"custom-input",rules:[s=>s&&s.length>0||"Please type your password"]},{prepend:l(()=>[t(i,{name:"lock",color:"grey-7",size:"20px"})]),_:1},8,["modelValue","rules"]),o("div",D,[t(I,{type:"submit",label:"Sign In",color:"white","text-color":"black",rounded:"",unelevated:"","no-caps":"",size:"lg",class:"full-width text-weight-bold hover-glow",style:{height:"56px"},loading:c.value},null,8,["loading"])])]),_:1}),o("div",R,[e[6]||(e[6]=m(" Don't have an account? ",-1)),t(y,{to:"/register",class:"text-white text-weight-bold",style:{"text-decoration":"none"}},{default:l(()=>[...e[5]||(e[5]=[m("Register Now",-1)])]),_:1})])])])]),_:1})}}},X=C(j,[["__scopeId","data-v-0696e826"]]);export{X as default};
